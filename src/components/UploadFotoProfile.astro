<div class="peer img-upload no-edit new-file img-file w-[100px] rounded-full">
    <!-- <div class="img-upload--delete"><i class="fa fa-trash"></i></div> -->
    <input type="file" class="img-upload__btn" id="file-1" onchange="imgPreview(1);"  accept="image/png, image/jpg, image/jpeg">
    <div class="img-upload__icon text-center">
        <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M17.9984 12.2857V23.7143M12.2841 18H23.7126M32.2841 18C32.2841 25.8898 25.8881 32.2857 17.9984 32.2857C10.1086 32.2857 3.71265 25.8898 3.71265 18C3.71265 10.1102 10.1086 3.71429 17.9984 3.71429C25.8881 3.71429 32.2841 10.1102 32.2841 18Z" stroke="#02143B" stroke-width="2.85714" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </div>
    <div class="img-upload__box aspect-square" id="img-upload-1"></div>
</div>
<div class="hidden peer-[.img-upload-filled]:flex peer-[.img-upload-filled]:items-center peer-[.img-upload-filled]:gap-2">
    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M5.43306 13.9168L6.69485 10.7623C6.89603 10.2593 7.19728 9.80249 7.58033 9.41945L14.4995 2.50071C15.3279 1.67229 16.6711 1.67229 17.4995 2.50072C18.3279 3.32914 18.3279 4.67229 17.4995 5.50072L10.5803 12.4194C10.1973 12.8025 9.74042 13.1037 9.23746 13.3049L6.08299 14.5667C5.67484 14.73 5.2698 14.3249 5.43306 13.9168Z" fill="#DA2028"/>
        <path d="M3.5 5.75C3.5 5.05964 4.05964 4.5 4.75 4.5H10C10.4142 4.5 10.75 4.16421 10.75 3.75C10.75 3.33579 10.4142 3 10 3H4.75C3.23122 3 2 4.23122 2 5.75V15.25C2 16.7688 3.23122 18 4.75 18H14.25C15.7688 18 17 16.7688 17 15.25V10C17 9.58579 16.6642 9.25 16.25 9.25C15.8358 9.25 15.5 9.58579 15.5 10V15.25C15.5 15.9404 14.9404 16.5 14.25 16.5H4.75C4.05964 16.5 3.5 15.9404 3.5 15.25V5.75Z" fill="#DA2028"/>
    </svg>         
    <input type="button" id="edit-foto" class="text-brand text-base font-bold p-3 pl-8 -ml-8 cursor-pointer" value="Ubah Foto">               
</div>

<style is:global>
    .img-upload {
        position: relative;
        border: 1px dashed #E3E7F3;
        background: #F3F6FD;
        overflow: hidden;
        cursor: pointer;
        transition: all .2s ease-in 0s; 
    }
    .img-upload:hover, .img-upload--dragover {
        border-color: #0031A3; 
    }
    .img-upload.is-invalid {
        border-color: #d92550; 
    }
    .img-upload__btn {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        font-size: 0;
        z-index: 2;
        cursor: pointer;
        opacity: 0; 
    }
    .img-upload__icon, .img-upload__temp--doc {
        position: absolute;
        top: 50%;
        left: 50%;
        font-size: 12px;
        -webkit-transform: translate3d(-50%, -50%, 0);
        -moz-transform: translate3d(-50%, -50%, 0);
        -ms-transform: translate3d(-50%, -50%, 0);
        -o-transform: translate3d(-50%, -50%, 0);
        transform: translate3d(-50%, -50%, 0); 
    }
    .img-upload__temp {
        max-width: 100%;
        max-height: 100%;
        position: absolute;
        top: 50%;
        left: 50%;
        font-size: 12px;
        -webkit-transform: translate3d(-50%, -50%, 0);
        -moz-transform: translate3d(-50%, -50%, 0);
        -ms-transform: translate3d(-50%, -50%, 0);
        -o-transform: translate3d(-50%, -50%, 0);
        transform: translate3d(-50%, -50%, 0); 
    }
    .img-upload__temp--doc {
        max-width: 30%;
        max-height: unset;
        height: auto;
        top: 30%;
        width: 48px;
        height: 48px;
        background: #FDE7E7;
        color: #E1AA57; 
    }
    .img-upload__name {
        position: absolute;
        left: 12px;
        bottom: 12px;
        right: 12px;
        top: 55%;
        flex-flow: column;
        justify-content: center;
        line-height: 1.4; 
    }
    .img-upload-filled {
        border-style: solid; 
    }
    .img-upload-filled:before {
        font-family: "simpeldesa-new" !important;
        content: "\77";
        position: absolute;
        right: 5px;
        bottom: 5px;
        width: 32px;
        height: 32px;
        color: #fff;
        z-index: 1;
        background-color: #000;
        /* The Fallback */
        background-color: rgba(0, 0, 0, 0.6);
        font-size: 24px;
        border-radius: 4px;
        display: -webkit-box;
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        align-items: center;
        justify-content: center; 
    }
    .img-upload-filled.no-edit:before {
        display: none; 
    }
    .img-upload-filled .img-upload__icon {
        display: none; 
    }
    .img-upload-filled .img-upload--delete {
        display: -webkit-box;
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        align-items: center; 
    }
    .img-upload--profil {
        margin: 0 30%; 
    }
    .img-upload--sampul {
        margin: 0 14.75%; 
    }
    .img-upload--delete {
        display: none;
        position: absolute;
        right: 5px;
        bottom: 5px;
        width: 32px;
        height: 32px;
        color: #fff;
        z-index: 3;
        background-color: #000;
        /* The Fallback */
        background-color: rgba(0, 0, 0, 0.6);
        border-radius: 4px;
        justify-content: center; 
    }
</style>

<script type="text/javascript">

    // IMG UPLOAD SINGLE PREVIEW
    function imgPreview(id) {

        var fileTypesImg = ['jpg', 'jpeg', 'png'];  //acceptable file types
        var fileTypesDoc = ['pdf', 'doc', 'docx'];  //acceptable file types
        var tgt = id.target || window.event.srcElement,
                files = tgt.files;
        var oFReader = new FileReader();
        var extension = files[0].name.split('.').pop().toLowerCase(); 

        oFReader.readAsDataURL(document.getElementById("file-" + id).files[0]);

        oFReader.onload = function(oFREvent) {
            var imgPath=oFREvent.target.result;
            var fileName = $("#file-" + id).val().split("\\").pop();
            successImg = fileTypesImg.indexOf(extension) > -1;
            successDoc = fileTypesDoc.indexOf(extension) > -1;
            if (successImg && $("#img-upload-" + id).parent(".img-upload").hasClass("img-file")) {
                if( $("#img-upload-" + id).html().length > 1) {
                    document.getElementById("img-preview-" + id).src = imgPath;
                    $("#img-preview-" + id).removeClass("img-upload__temp--doc");
                }
                else {
                    $("#img-upload-" + id).append('<img class="img-upload__temp" title="Ini Title Image" id="img-preview-'+ id +'" src="'+ imgPath +'" />');
                    $("#img-upload-" + id).parent(".img-upload").addClass("img-upload-filled");
                }
                $("#img-upload-" + id).find(".file-name").remove();
            } else if (successDoc && $("#img-upload-" + id).parent(".img-upload").hasClass("doc-file")) {
                $("#img-upload-" + id).html("<div class='img-upload__name'>"+ fileName +"</div>");
                $("#img-upload-" + id).append('<div class="img-upload__temp--doc"><i class="fsize-3 fa fa-file mb-1"></i></div>');
                $("#img-upload-" + id).parent(".img-upload").addClass("img-upload-filled");
            } else {
                alert("Tipe file tidak valid!");
                $("#file-" + id).val("");
                if($("#img-upload-" + id).parent(".img-upload").hasClass("new-file")) {
                    $("#img-upload-" + id).find(".img-upload__temp").remove();
                    $("#img-upload-" + id).find(".file-name").remove();
                    $("#img-upload-" + id).parent(".img-upload").removeClass("img-upload-filled");
                }
            }
            $(".img-upload").removeClass("img-upload--dragover"); 
        };
        }
        // Delete single file
        $(".img-upload--delete").click(function(e) {
        var confirm = window.confirm('Yakin mau dihapus?');
        if (confirm) {
            if($(this).hasClass("delete-bg")) {
                $("#bg-checklist").hide();
            }
            $(this).parents(".img-upload").removeClass("img-upload-filled");
            $(this).siblings(".img-upload__box").empty();
            $(this).siblings(input).val("");
        }
    });

    document.getElementById('edit-foto').onclick = function() {
        document.getElementById('file-1').click();
    };

</script>